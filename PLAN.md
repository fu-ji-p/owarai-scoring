# 採点フロー改善プラン

## 現状の問題
1. 管理画面で1stラウンド・最終決戦の両方に出場者を無限に追加できてしまう
2. ネタ順を管理者が入力する仕組み → ネタバレの原因になる
3. 最終決戦の出場者を手動で再入力する必要がある

## 新しいフロー

### 管理者の操作（放送前）
1. 大会作成（タイプ・年を選択）
2. **1stラウンドの出場者名だけを登録**（ネタ順は入力しない）
3. ステータスを「採点受付中」に変更

### 各ユーザーの採点操作（放送中/録画中）
1. 視聴モード選択（リアルタイム / 録画）
2. **出場者一覧から「今からこの人を採点する」を選ぶ方式**に変更
   - 一覧には全出場者がカードで並ぶ（採点済み/未採点が分かる）
   - タップすると採点カードが開く
   - ネタ順は採点した順番（scored_atのタイムスタンプ）から自動推定
3. 全員採点完了 → 結果を見る

### 最終決戦
- 管理者が「最終決戦を開始」ボタンを押す
- **1stラウンドの出場者一覧からチェックボックスで選択**して最終決戦に追加
- 各ユーザーは同様に一覧から選んで採点

## 変更するファイル

### 1. `ManageCompetition.tsx` — 管理画面を刷新
- 1stラウンドのみ出場者追加UI（最終決戦セクションは別UIに）
- ネタ順の入力UIを**削除**
- 「最終決戦を開始」ボタン追加 → 1stラウンドの出場者をチェックで選択するモーダル

### 2. `ScoringPage.tsx` — 採点画面を刷新
- 現在の「1組ずつ順番に表示」→「**出場者一覧から選んで採点**」に変更
- 出場者カード一覧: 名前 + 採点済みなら点数表示
- カードをタップ → ScoreCardがモーダル/展開で表示
- 前へ/次へボタンは削除

### 3. `CreateCompetition.tsx` — 大会作成フローに出場者登録を統合
- 大会タイプ・年の選択後、そのまま出場者入力画面に遷移
- 出場者を入力し終わったら「作成完了」

### 4. `demoData.ts` — 最終決戦への出場者コピー用メソッド追加
- `copyPerformersToFinalRound(competitionId, performerIds)` を追加
